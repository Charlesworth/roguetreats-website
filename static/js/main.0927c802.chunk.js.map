{"version":3,"sources":["Address.tsx","envvars.ts","API.ts","CustomerForm.tsx","DateCookieForm.tsx","StripeCheckout.ts","DeliveryForm.tsx","MailingList.tsx","email.ts","OrderPage.tsx","SuccessPage.tsx","CancelledPage.tsx","App.tsx","index.tsx"],"names":["AddressValidity","Address","props","state","autocomplete","autocompleteListener","validAddress","NotEntered","showArea","google","maps","places","Autocomplete","document","getElementById","types","setFields","listener","addListener","this","isInDeliveryArea","bind","setState","event","removeListener","placeResult","getPlace","geometry","location","formatted_address","deliveryPoly","Polygon","paths","lng","lat","poly","containsLocation","Valid","onValidAddressCallback","Invalid","Error","areaWarning","className","role","onClick","src","width","style","type","id","placeholder","defaultValue","initialAddress","Component","orderPhoneNo","orderEmail","getFreeTimeslots","a","apiGetTimeslots","freeTimeslotsResp","freeDates","freeTimeslots","freeTimeslot","unixTime","Date","parse","date","isNaN","push","products","boxes","fetch","apiLocation","method","response","ok","json","timestamps","Promise","reject","statusText","insertMailingList","email","requestHeaders","Headers","set","body","JSON","stringify","headers","CustomerForm","useForm","defaultValues","mailingList","initialCustomerDetails","name","phone","note","register","handleSubmit","errors","onSubmit","customerDetails","callback","fontFamily","htmlFor","ref","required","maxLength","value","message","minLength","pattern","fontSize","color","dateToDay","toDateString","dateToTimeWindow","startTime","toTimeString","substring","endTime","getTime","DateCookieForm","annotatedFreeTimeSlots","freeTimeSlots","map","freeTimeSlot","elementDay","time","day","initialOrderInfo","days","fts","filter","elem","index","self","indexOf","times","availableBoxes","reduce","acc","dates","length","DaySelect","availableDays","selectedDay","selectedDayCallback","newDay","TimeSelect","availableTimes","selectedTime","selectedTimeCallback","newTime","CookieSelect","selectedBoxes","selectedBoxesCallback","newBoxes","timeOptions","availableDay","onChange","e","target","dayOptions","buttons","i","ProductType","FormState","StripeCheckout","publicKey","stripe","init","loadStripe","checkout","order","timeslot","toISOString","ChocChipCookie","address","session","redirectToCheckout","sessionId","result","error","DeliveryForm","useState","Loading","formState","setFormState","googleInitialised","setGoogleInitialised","setFreeTimeSlots","undefined","orderInfo","setOrderInfo","setAddress","setCustomerDetails","useEffect","then","TimeSlotForm","NoFreeTimeslots","catch","console","GetTimeSlotError","initGoogleMaps","AddressForm","window","hash","onInvalidAddressCallback","log","disabled","Checkout","href","initStripeCheckout","initialisedStripeCheckout","loader","Loader","apiKey","version","libraries","load","stripeCheckout","ValidityState","LoadingSpinner","toLocaleTimeString","MailingList","handleOnChange","test","isValidEmail","validEmail","Empty","Added","errorMessage","buttonColor","onBlur","aria-describedby","addToList","React","OrderPage","alt","xmlns","height","fill","viewBox","d","data-bs-ride","data-bs-interval","data-bs-pause","data-bs-touch","backgroundColor","Success","to","Cancelled","App","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0927c802.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\ninterface AddressProps {\n    onValidAddressCallback: (address: string) => void\n    onInvalidAddressCallback: () => void\n    initialAddress?: string;\n}\n\ninterface AddressState {\n    autocomplete: google.maps.places.Autocomplete | null;\n    autocompleteListener: google.maps.MapsEventListener | null;\n    validAddress: AddressValidity;\n    showArea: boolean;\n}\n\nenum AddressValidity {\n    NotEntered = \"NOT_ENTERED\",\n    Invalid = \"INVALID\",\n    Valid = \"VALID\",\n}\n\nclass Address extends Component<AddressProps, AddressState> {\n    constructor(props: AddressProps) {\n        super(props);\n\n        this.state = {\n            autocomplete: null,\n            autocompleteListener: null,\n            validAddress: AddressValidity.NotEntered,\n            showArea: false,\n        }\n    }\n\n    componentDidMount(): void {\n        const autocomplete = new google.maps.places.Autocomplete(\n            document.getElementById(\"autocompleteAddress\") as HTMLInputElement,\n            // https://developers.google.com/maps/documentation/javascript/places-autocomplete#summary-of-classes\n            { types: [\"address\"] }\n        );\n\n        // Avoid paying for data that you don't need by restricting the set of\n        // place fields that are returned to just the address components.\n        // https://developers.google.com/maps/documentation/javascript/reference/places-service#PlaceResult.address_components\n        // TODO: is the example wrong with \"address_component\", PR it\n        autocomplete.setFields([\"geometry\", \"formatted_address\"]);\n\n        // Bind the completion of an address event to check it's in the delivery area\n        const listener = autocomplete.addListener(\"place_changed\", this.isInDeliveryArea.bind(this));\n\n        this.setState({ autocomplete: autocomplete, autocompleteListener: listener })\n    }\n\n    componentWillUnmount(): void {\n        if (this.state.autocompleteListener) {\n            google.maps.event.removeListener(this.state.autocompleteListener)\n        }\n    }\n\n    isInDeliveryArea(): void {\n        const deliveryCoords = [\n            { lng: -2.0119413, lat: 51.4502812 },\n            { lng: -2.0185072, lat: 51.4471873 },\n            { lng: -2.0200522, lat: 51.4432821 },\n            { lng: -2.0249445, lat: 51.4422389 },\n            { lng: -2.0242579, lat: 51.4398582 },\n            { lng: -2.0229275, lat: 51.4380926 },\n            { lng: -2.0162327, lat: 51.4310028 },\n            { lng: -2.0101387, lat: 51.4292637 },\n            { lng: -2.0034762, lat: 51.4263587 },\n            { lng: -2.004002, lat: 51.4249605 },\n            { lng: -2.0029183, lat: 51.4229535 },\n            { lng: -2.0001503, lat: 51.4224785 },\n            { lng: -1.9974788, lat: 51.4221641 },\n            { lng: -1.9947644, lat: 51.4223112 },\n            { lng: -1.9893249, lat: 51.423676 },\n            { lng: -1.9812997, lat: 51.4222711 },\n            { lng: -1.9782742, lat: 51.4213478 },\n            { lng: -1.9745191, lat: 51.4221774 },\n            { lng: -1.9738754, lat: 51.4261245 },\n            { lng: -1.9750985, lat: 51.4270209 },\n            { lng: -1.9803127, lat: 51.4300579 },\n            { lng: -1.9836601, lat: 51.4340979 },\n            { lng: -1.9880804, lat: 51.4361312 },\n            { lng: -1.9881233, lat: 51.4385924 },\n            { lng: -1.9875654, lat: 51.4397159 },\n            { lng: -1.985205, lat: 51.4419629 },\n            { lng: -1.9861492, lat: 51.444718 },\n            { lng: -1.9888958, lat: 51.4469381 },\n            { lng: -1.9887241, lat: 51.4483289 },\n            { lng: -1.9913848, lat: 51.4510568 },\n            { lng: -1.9906982, lat: 51.4527149 },\n            { lng: -1.9914278, lat: 51.455095 },\n            { lng: -1.9938739, lat: 51.4552555 },\n            { lng: -1.9996675, lat: 51.4543997 },\n            { lng: -2.0045599, lat: 51.4535707 },\n            { lng: -2.0052894, lat: 51.4530893 },\n            { lng: -2.0119413, lat: 51.4502812 },\n        ];\n\n        if (this.state.autocomplete) {\n            const placeResult = this.state.autocomplete.getPlace()\n            if (placeResult.geometry && placeResult.geometry.location && placeResult.formatted_address) {\n                const deliveryPoly = new google.maps.Polygon({\n                    paths: deliveryCoords\n                })\n\n                const inDeliveryZone = google.maps.geometry.poly.containsLocation(placeResult.geometry.location, deliveryPoly)\n                if (inDeliveryZone) {\n                    this.setState({ validAddress: AddressValidity.Valid })\n                    this.props.onValidAddressCallback(placeResult.formatted_address)\n                } else {\n                    this.setState({ validAddress: AddressValidity.Invalid })\n                }\n                return\n            }\n        }\n        throw new Error(\"Unable to load place lat lang and check within delivery poly\");\n    }\n\n    render(): JSX.Element {\n        let areaWarning: JSX.Element | null\n        switch (this.state.validAddress) {\n            case AddressValidity.Invalid:\n                areaWarning = <div className=\"alert alert-danger text-center\" role=\"alert\">\n                    Sorry, your not in our delivery area yet, but we are expanding quickly. Sign up for our mailing list ⬇️ to get notified when our delivery zone expands.\n                    <br />\n                    <button className=\"btn btn-primary\" onClick={() => { this.setState({ showArea: !this.state.showArea }) }}>Show delivery area map</button>\n                    <br />\n                    {this.state.showArea ? <img src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/deliveryArea3.png\" className=\"my-2\" width=\"100%\"></img> : null}\n                </div>\n                break;\n            case AddressValidity.Valid:\n                areaWarning = <div className=\"alert alert-success text-center\" role=\"alert\">\n                    🎉 Great, you&apos;re in our delivery area 🎉\n              </div>\n                break;\n            case AddressValidity.NotEntered:\n                areaWarning = null;\n                break;\n        }\n\n        return <>\n            <input style={{ width: \"100%\" }} type=\"text\" id=\"autocompleteAddress\" placeholder=\"Start typing your address...\" defaultValue={this.props.initialAddress || ''} />\n            {areaWarning}\n        </>\n    }\n}\n\nexport default Address;\n","const env = process.env.REACT_APP_BUILD_ENV;\n\nexport const apiLocation = (): string => {\n    if (env === 'production') {\n        return 'https://cookieapi.com';\n    }\n    return '';\n};\n\nexport const orderPhoneNo = \"07863056292\"\n\nexport const orderEmail = \"orders@roguetreats.com\"\n\nexport const stripeKey = (): string => {\n    if (env === 'production') {\n        return 'pk_live_2ckF2vhFx7O8WUPrBipS2zu3006dxzGcfU';\n    }\n    return 'pk_test_pvcEONvMUgMb6jw6gCsSDwZV00qekEG5LL';\n};\n","import { apiLocation } from \"./envvars\";\n\nexport interface FreeTimeSlot {\n    // change time to date\n    date: Date;\n    products: Array<string>;\n    boxes: number;\n}\n\nexport const getFreeTimeslots = async function (): Promise<FreeTimeSlot[]> {\n    const freeTimeslotsResp = await apiGetTimeslots()\n\n    const freeDates: FreeTimeSlot[] = [];\n    for (const freeTimeslot of freeTimeslotsResp.freeTimeslots) {\n        const unixTime = Date.parse(freeTimeslot.date)\n        if (isNaN(unixTime)) {\n            throw new Error(\"received an invalid timeslot\");\n        }\n        freeDates.push({\n            date: new Date(unixTime),\n            products: freeTimeslot.products,\n            boxes: freeTimeslot.boxes,\n        })\n    }\n    return freeDates\n}\n\nexport interface FreeTimeSlotsResp {\n    freeTimeslots: Array<{\n        date: string;\n        products: Array<string>;\n        boxes: number;\n    }>\n}\n\nconst apiGetTimeslots = async function (): Promise<FreeTimeSlotsResp> {\n    const response = await fetch(apiLocation() + \"/timeslots\", {\n        method: \"GET\",\n    });\n\n    if (response.ok) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        const timestamps: FreeTimeSlotsResp = await response.json()\n        return timestamps;\n    }\n\n    return Promise.reject(response.statusText);\n}\n\nexport const insertMailingList = async function (email: string): Promise<void> {\n    const requestHeaders: HeadersInit = new Headers();\n    requestHeaders.set('Content-Type', 'application/json');\n\n    const response = await fetch(apiLocation() + \"/mailinglist\", {\n        method: \"POST\",\n        body: JSON.stringify({\n            email: email,\n        }),\n        headers: requestHeaders,\n    });\n\n    if (!response.ok) {\n        return Promise.reject(response.statusText);\n    }\n\n    return;\n}","import { useForm } from \"react-hook-form\";\n\nexport interface CustomerDetails {\n    name: string;\n    phone: string;\n    note: string;\n    email: string;\n    mailingList: boolean;\n}\n\nexport default function CustomerForm(props: { callback: (customerDetails: CustomerDetails) => void, initialCustomerDetails?: CustomerDetails }): JSX.Element {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const { register, handleSubmit, errors } = useForm<CustomerDetails>({\n        defaultValues: {\n            mailingList: props.initialCustomerDetails ? props.initialCustomerDetails.mailingList : true,\n            name: props.initialCustomerDetails ? props.initialCustomerDetails.name : \"\",\n            phone: props.initialCustomerDetails ? props.initialCustomerDetails.phone : \"\",\n            note: props.initialCustomerDetails ? props.initialCustomerDetails.note : \"\",\n            email: props.initialCustomerDetails ? props.initialCustomerDetails.email : \"\",\n        }\n    });\n    const onSubmit = handleSubmit((customerDetails) => {\n        props.callback(customerDetails);\n    });\n\n    return (\n        <form onSubmit={onSubmit}>\n            <h3 className=\"mt-2\" style={{ fontFamily: \"Permanent Marker\" }}>Who:</h3>\n            <label htmlFor=\"name\" className=\"form-label mt-2\">Name:</label>\n            <input className={`form-control ${errors.name ? \"is-invalid\" : ''}`} id=\"name\" name=\"name\" ref={register({ required: 'Name required', maxLength: { value: 50, message: 'Too long!' } })} />\n            { errors.name && <div className=\"invalid-feedback\">{errors.name.message}</div>}\n            <label htmlFor=\"phone\" className=\"form-label mt-2\">Phone Number:</label>\n            <input className={`form-control ${errors.phone ? \"is-invalid\" : ''}`} id=\"phone\" name=\"phone\" ref={register({ required: 'Phone number required', maxLength: { value: 12, message: 'Too long' }, minLength: { value: 7, message: 'Too short' } })} />\n            { errors.phone && <div className=\"invalid-feedback\">{errors.phone.message}</div>}\n            <label htmlFor=\"note\" className=\"form-label mt-2\">Note to us (optional):</label>\n            <textarea className={`form-control ${errors.note ? \"is-invalid\" : ''}`} id=\"note\" name=\"note\" ref={register({ maxLength: { value: 200, message: 'Too long!' } })} placeholder='e.g. \"Write `Love from Mike` on the box\", \"Ring the buzzer\"' />\n            { errors.note && <div className=\"invalid-feedback\">{errors.note.message}</div>}\n            <label htmlFor=\"email\" className=\"form-label mt-2\">Email:</label>\n            <input className={`form-control ${errors.email ? \"is-invalid\" : ''}`} id=\"email\" name=\"email\" ref={register({ required: 'Email is required', pattern: { value: /^[^@ ]+@[^@ ]+\\.[^@ .]{2,}$/, message: 'Email is not valid' } })} />\n            { errors.email && <div className=\"invalid-feedback\">{errors.email.message}</div>}\n            <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n            <div className=\"form-check mb-2\">\n                <input className=\"form-check-input\" type=\"checkbox\" name=\"mailingList\" id=\"mailingList\" ref={register} />\n                <label className=\"form-check-label\" htmlFor=\"mailingList\">\n                    Email me about new treats, delivery days and offers\n                </label>\n            </div>\n            <button type=\"submit\" className=\"btn btn-lg btn-success m-2\" style={{ fontFamily: \"Permanent Marker\", fontSize: \"2em\" }}>Continue</button>\n            { (errors.email || errors.name || errors.phone || errors.note) && <b style={{ color: \"red\" }}> Please fill out the required fields ⬆️</b>}\n        </form >\n    );\n}","import React from 'react';\nimport { FreeTimeSlot } from './API';\n\ninterface AnnotatedFreeTimeSlots extends FreeTimeSlot {\n    day: string;\n    time: string;\n}\n\nfunction dateToDay(date: Date): string {\n    return date.toDateString();\n}\n\nfunction dateToTimeWindow(date: Date): string {\n    const startTime = date.toTimeString().substring(0, 5);\n    const endTime = new Date(date.getTime() + (30 * 60000)).toTimeString().substring(0, 5);\n    return `${startTime} - ${endTime}`;\n}\n\nfunction annotateFreeTimeSlots(freeTimeSlots: FreeTimeSlot[]): AnnotatedFreeTimeSlots[] {\n    return freeTimeSlots\n        .map(\n            function (freeTimeSlot) {\n                const elementDay = dateToDay(freeTimeSlot.date);\n                const time = dateToTimeWindow(freeTimeSlot.date);\n                return {\n                    ...freeTimeSlot,\n                    day: elementDay,\n                    time: time,\n                }\n            }\n        )\n}\n\nexport interface OrderInfo {\n    date: Date;\n    boxes: number;\n}\n\nexport default function DateCookieForm(props: { freeTimeSlots: FreeTimeSlot[], callback: (order: OrderInfo) => void, initialOrderInfo?: OrderInfo }): JSX.Element {\n    const annotatedFreeTimeSlots = annotateFreeTimeSlots(props.freeTimeSlots);\n\n    const day = props.initialOrderInfo ? dateToDay(props.initialOrderInfo.date) : annotatedFreeTimeSlots[0].day;\n    const time = props.initialOrderInfo ? dateToTimeWindow(props.initialOrderInfo.date) : annotatedFreeTimeSlots[0].time;\n    const boxes = props.initialOrderInfo ? props.initialOrderInfo.boxes : 1;\n\n    const days: string[] = annotatedFreeTimeSlots.map((fts) => fts.day).filter((elem, index, self) => index === self.indexOf(elem))\n    const times: string[] = annotatedFreeTimeSlots.filter((elem) => elem.day === day).map((fts) => fts.time);\n    const availableBoxes: number = annotatedFreeTimeSlots.filter((elem) => elem.day === day && elem.time === time).reduce((acc, fts) => acc + fts.boxes, 0);\n\n    // TODO: is this a hack, should the caller be responsible for always using an existingOrderInfo?\n    if (!props.initialOrderInfo) {\n        const dates = annotatedFreeTimeSlots.filter((elem) => elem.day === day && elem.time === time);\n        if (dates.length !== 1) {\n            throw new Error(\"multiple dates returned for a selected day and time\");\n        }\n        props.callback({\n            boxes: boxes,\n            date: dates[0].date\n        })\n    }\n\n    return <>\n        <h3 className=\"mt-2\" style={{ fontFamily: \"Permanent Marker\" }}>When:</h3>\n        <DaySelect\n            availableDays={days}\n            selectedDay={day}\n            selectedDayCallback={(newDay) => {\n                // new day, reset time, reset boxes\n                const dates = annotatedFreeTimeSlots.filter((elem) => elem.day === newDay);\n                props.callback({\n                    date: dates[0].date,\n                    boxes: 1,\n                })\n            }}\n        />\n\n        <TimeSelect\n            availableTimes={times}\n            selectedTime={time}\n            selectedTimeCallback={(newTime) => {\n                // old day, new time, reset boxes\n                const dates = annotatedFreeTimeSlots.filter((elem) => elem.day === day && elem.time === newTime);\n                props.callback({\n                    date: dates[0].date,\n                    boxes: 1,\n                })\n            }}\n        />\n\n        <h3 className=\"mt-3\" style={{ fontFamily: \"Permanent Marker\" }}>How many Cookies:</h3>\n        <h3>Giant Milk Chocolate Chip</h3>\n        <p>\n            Allergens: <b>Egg, Milk, Soy, Gluten</b>\n            <div id=\"emailHelp\" className=\"form-text\">£10 per box with free delivery!</div>\n        </p>\n        <CookieSelect\n            availableBoxes={availableBoxes}\n            selectedBoxes={boxes}\n            selectedBoxesCallback={(newBoxes: number) => {\n                // old day, old time, new boxes\n                const dates = annotatedFreeTimeSlots.filter((elem) => elem.day === day && elem.time === time);\n                props.callback({\n                    date: dates[0].date,\n                    boxes: newBoxes,\n                })\n            }} />\n    </>;\n}\n\nfunction TimeSelect(props: { availableTimes: string[], selectedTime: string, selectedTimeCallback: (day: string) => void }): JSX.Element {\n    const timeOptions: JSX.Element[] = [];\n    for (const availableDay of props.availableTimes)\n        timeOptions.push(<option key={availableDay} value={availableDay}>{availableDay}</option>)\n\n    return <>\n        <label htmlFor=\"timeSelect\" className=\"form-label mt-2\">Time:</label>\n        <select id=\"timeSelect\" className=\"form-select\" onChange={(e) => props.selectedTimeCallback(e.target.value)} value={props.selectedTime}>\n            {timeOptions}\n        </select>\n    </>;\n}\n\nfunction DaySelect(props: { availableDays: string[], selectedDay: string, selectedDayCallback: (day: string) => void }): JSX.Element {\n    const dayOptions: JSX.Element[] = [];\n    for (const availableDay of props.availableDays)\n        dayOptions.push(<option key={availableDay} value={availableDay}>{availableDay}</option>)\n\n    return <>\n        <label htmlFor=\"daySelect\" className=\"form-label mt-2\">Day:</label>\n        <select id=\"daySelect\" className=\"form-select\" onChange={(e) => props.selectedDayCallback(e.target.value)} value={props.selectedDay}>\n            {dayOptions}\n        </select>\n    </>;\n}\n\nfunction CookieSelect(props: { availableBoxes: number, selectedBoxes: number, selectedBoxesCallback: (boxes: number) => void }): JSX.Element {\n    const buttons: JSX.Element[] = [];\n    for (let i = 1; i <= props.availableBoxes; i++) {\n        buttons.push(\n            <button\n                key={i}\n                className={\"btn btn-lg m-2 btn-\" + (props.selectedBoxes === i ? \"primary\" : \"secondary\")}\n                onClick={() => props.selectedBoxesCallback(i)}\n            >\n                {i} {i === 1 ? \"box\" : \"boxes\"}\n                <br />\n                ({i * 4} cookies)\n            </button>\n        )\n    }\n\n    return <>\n        {buttons}\n    </>;\n}\n","import { loadStripe, Stripe } from \"@stripe/stripe-js\";\nimport { apiLocation } from \"./envvars\";\n\nenum ProductType {\n    ChocChipCookie = 'CHOC_CHIP_COOKIE',\n    AppleCake = 'APPLE_CAKE',\n    AppleBerryCrumbleCookie = 'APPLE_BERRY_CRUMBLE_COOKIE',\n    WhiteChocCranberryCookie = 'WHITE_CHOC_CRANBERRY_COOKIE'\n}\n\n// StripeCheckout is used to load in the stripe js SDK and call\n// the backend with the order details. Must be initialized with\n// init().\nclass StripeCheckout {\n    private stripe: Stripe | null;\n    private publicKey: string;\n\n    constructor(publicKey: string) {\n        this.publicKey = publicKey;\n        this.stripe = null;\n    }\n\n    init = async (): Promise<void> => {\n        const stripe = await loadStripe(this.publicKey)\n        if (stripe === null) {\n            throw new Error(\"Unable to load Stripe integration\");\n        }\n        this.stripe = stripe;\n    }\n\n    checkout = async (order: {\n        timeslot: Date,\n        // TODO: add other products\n        // products: Array<Products>,\n        // boxes: number[],\n        boxes: number,\n        address: string,\n        name: string,\n        phone: string,\n        note: string,\n        email: string,\n        mailingList: boolean\n    }): Promise<void> => {\n\n        const requestHeaders: HeadersInit = new Headers();\n        requestHeaders.set('Content-Type', 'application/json');\n        const response = await fetch(apiLocation() + \"/create-session\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                timeslot: order.timeslot.toISOString(),\n                products: [ProductType.ChocChipCookie],\n                boxes: [order.boxes],\n                address: order.address,\n                name: order.name,\n                phone: order.phone,\n                note: order.note,\n                email: order.email,\n                mailingList: order.mailingList,\n            }),\n            headers: requestHeaders,\n        });\n\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        const session = await response.json();\n\n        if (this.stripe === null) {\n            throw new Error(\"Stripe didn't init\");\n        }\n\n        // When the customer clicks on the button, redirect them to Checkout.\n        const result = await this.stripe.redirectToCheckout({\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-assignment\n            sessionId: session.id,\n        });\n\n        if (result.error) {\n            // If `redirectToCheckout` fails due to a browser or network\n            // error, use `result.error.message`.\n            throw new Error(result.error.message);\n        }\n    };\n}\n\nexport default StripeCheckout;\n","import { Loader } from '@googlemaps/js-api-loader';\nimport React, { useEffect, useState } from 'react';\nimport Address from './Address';\nimport { FreeTimeSlot, getFreeTimeslots } from './API';\nimport CustomerForm, { CustomerDetails } from './CustomerForm';\nimport DateCookieForm, { OrderInfo } from './DateCookieForm';\nimport { orderEmail, orderPhoneNo, stripeKey } from './envvars';\nimport StripeCheckout from './StripeCheckout';\n\nenum FormState {\n    Loading = \"LOADING\",\n    TimeSlotForm = \"TIMESLOT_FORM\",\n    AddressForm = \"ADDRESS_FORM\",\n    CustomerForm = \"CUSTOMER_FORM\",\n    NoFreeTimeslots = \"NO_FREE_TIMESLOTS\",\n    GetTimeSlotError = \"GET_TIME_SLOT_ERROR\",\n    Checkout = \"CHECKOUT\",\n}\n\nexport default function DeliveryForm(): JSX.Element {\n    const [formState, setFormState] = useState<FormState>(FormState.Loading);\n    const [googleInitialised, setGoogleInitialised] = useState<boolean>(false);\n    const [freeTimeSlots, setFreeTimeSlots] = useState<FreeTimeSlot[]>([]);\n\n    const [orderInfo, setOrderInfo] = useState<OrderInfo | undefined>(undefined);\n    const [address, setAddress] = useState<string | undefined>(undefined);\n    const [customerDetails, setCustomerDetails] = useState<CustomerDetails | undefined>(undefined);\n\n    useEffect(() => {\n        getFreeTimeslots()\n            .then((freeTimeSlots) => {\n                if (freeTimeSlots.length == 0) {\n                    setFormState(FormState.NoFreeTimeslots);\n                    return\n                }\n                setFreeTimeSlots(freeTimeSlots);\n                setFormState(FormState.TimeSlotForm);\n            })\n            .catch((error) => {\n                console.error(\"Unable to get free timeslots from cookie API\", error);\n                setFormState(FormState.GetTimeSlotError);\n            })\n    }, [])\n\n    switch (formState) {\n        case FormState.Loading:\n            return <LoadingSpinner />\n\n        case FormState.TimeSlotForm:\n            return <>\n                <DateCookieForm\n                    freeTimeSlots={freeTimeSlots}\n                    callback={(order) => { setOrderInfo(order) }}\n                    initialOrderInfo={orderInfo}\n                />\n                <br />\n                <br />\n                <button className=\"btn btn-lg btn-success m-2\" style={{ fontFamily: \"Permanent Marker\", fontSize: \"2em\" }} onClick={async () => {\n                    if (!googleInitialised) {\n                        await initGoogleMaps()\n                        setGoogleInitialised(true);\n                    }\n                    setFormState(FormState.AddressForm)\n                }}>Continue</button>\n            </>\n\n        case FormState.AddressForm:\n            window.location.hash = \"order_form\";\n\n            return <>\n                <label htmlFor=\"timeSlot\" className=\"form-label\">\n                    <h3 className=\"mt-2\" style={{ fontFamily: \"Permanent Marker\" }}>Where:</h3>\n                </label>\n                <br />\n                <label htmlFor=\"Address\" className=\"form-label mt-2\">Address:</label>\n                <Address\n                    onValidAddressCallback={(address) => {\n                        setAddress(address);\n                    }}\n                    onInvalidAddressCallback={() => { console.log(\"Unable to deliver to this address\") }}\n                    initialAddress={address}\n                />\n                <br />\n                { address ? null : <b className=\"mx-2\" style={{ color: \"red\" }}> Add an address to continue</b>}\n                <br />\n                <button\n                    className=\"btn btn-lg btn-success m-2\"\n                    style={{ fontFamily: \"Permanent Marker\", fontSize: \"2em\" }}\n                    disabled={address === undefined}\n                    onClick={() => {\n                        if (address) {\n                            setFormState(FormState.CustomerForm)\n                        }\n                    }}>Continue</button>\n                <br />\n                <button className=\"btn btn-lg btn-secondary m-2\" style={{ fontFamily: \"Permanent Marker\" }} onClick={() => setFormState(FormState.TimeSlotForm)}>Back</button>\n            </>;\n\n        case FormState.CustomerForm:\n            window.location.hash = \"order_form\";\n\n            return <>\n                <CustomerForm\n                    callback={(customerDetails) => {\n                        setCustomerDetails(customerDetails);\n                        setFormState(FormState.Checkout);\n                    }}\n                    initialCustomerDetails={customerDetails}\n                />\n                <button className=\"btn btn-lg btn-secondary m-2\" style={{ fontFamily: \"Permanent Marker\" }} onClick={() => setFormState(FormState.AddressForm)}>Back</button>\n            </>\n\n        case FormState.NoFreeTimeslots:\n            return <div className=\"text-center\">\n\n                <h3 style={{ fontFamily: \"Permanent Marker\" }}>Sorry, we&apos;re fully booked week!</h3>\n                <p>\n                    Check back next week for more delivery slots<br />\n                    ⬇️ In the mean time why not sign up for our mailing list for delicious new treat updates ⬇️\n                </p>\n            </div>\n\n        case FormState.GetTimeSlotError:\n            return <div className=\"row\">\n                <div className=\"col-12 text-center\">\n                    <h3>Sorry, the order form isn't working right now, we&apos;re having some technical issues!</h3>\n                    In the mean time contact us by phone on <a href={orderPhoneNo}>{orderPhoneNo}</a> or email <a href={orderEmail}>{orderEmail}</a> to place an order.\n                </div>\n            </div>\n\n        case FormState.Checkout:\n            window.location.hash = \"order_form\";\n\n            if (!orderInfo || !address || !customerDetails) {\n                throw new Error(\"Missing order details\");\n            }\n\n            return <>\n                <Checkout orderInfo={orderInfo} address={address} customerDetails={customerDetails} />\n                <br />\n                <button className=\"btn btn-lg btn-success m-2\" style={{ fontFamily: \"Permanent Marker\", fontSize: \"2em\" }} onClick={async () => {\n                    const initialisedStripeCheckout = await initStripeCheckout();\n\n                    await initialisedStripeCheckout.checkout({\n                        timeslot: orderInfo.date,\n                        boxes: orderInfo.boxes,\n                        address: address,\n                        name: customerDetails.name,\n                        phone: customerDetails.phone,\n                        note: customerDetails.note,\n                        email: customerDetails.email,\n                        mailingList: customerDetails.mailingList\n                    })\n                }}>Checkout</button>\n                <br />\n                <button className=\"btn btn-lg btn-secondary m-2\" style={{ fontFamily: \"Permanent Marker\" }} onClick={() => setFormState(FormState.CustomerForm)}>Back</button>\n            </>\n    }\n}\n\n\nasync function initGoogleMaps(): Promise<void> {\n    const loader = new Loader({ apiKey: \"AIzaSyAyUpor6TH4ZMVMAjcxfmgTfNRye-mmxco\", version: \"weekly\", libraries: [\"places\", \"geometry\"] });\n    await loader.load();\n    return;\n}\n\nasync function initStripeCheckout(): Promise<StripeCheckout> {\n    const stripeCheckout = new StripeCheckout(stripeKey());\n    await stripeCheckout.init();\n    return stripeCheckout;\n}\n\n// TODO: into own file\nconst LoadingSpinner = (): JSX.Element => {\n    return <div className=\"spinner-border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n    </div>\n}\n\nfunction Checkout(props: { orderInfo: OrderInfo, address: string, customerDetails: CustomerDetails }): JSX.Element {\n    return <>\n        <h3 className=\"mt-2\" style={{ fontFamily: \"Permanent Marker\" }}>Your Order:</h3>\n        {`${props.orderInfo.boxes} ${props.orderInfo.boxes === 1 ? \"box\" : \"boxes\"} of Giant Milk Chocolate Chip Cookies`}\n        <br />\n        {`${props.orderInfo.boxes} x £10 per box`}\n        <br />\n        {`Total: £${props.orderInfo.boxes * 10}`}\n        <hr />\n\n        {`Delivery date: ${props.orderInfo.date.toDateString()}`}\n        <br />\n        {`Delivery time: ${props.orderInfo.date.toLocaleTimeString()}`}\n        <br />\n        {`Name: ${props.customerDetails.name}`}\n        <br />\n        {`Address: ${props.address}`}\n        <br />\n        {`Phone: ${props.customerDetails.phone}`}\n        <br />\n        {`Email: ${props.customerDetails.email}`}\n        <br />\n        {props.customerDetails.note !== \"\" ? `Delivery note: \"${props.customerDetails.note}\"` : null}\n        <br />\n    </>\n}","import React from 'react';\nimport { insertMailingList } from './API';\nimport { isValidEmail } from './email';\n\ninterface MailingListState {\n    email: string;\n    validEmail: ValidityState;\n}\n\nenum ValidityState {\n    Empty = \"EMPTY\",\n    Invalid = \"INVALID\",\n    Valid = \"VALID\",\n    Error = \"ERROR\",\n    Added = \"ADDED\",\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface IProps { }\n\nexport default class MailingList extends React.Component<IProps, MailingListState> {\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {\n            email: \"\",\n            validEmail: ValidityState.Empty,\n        }\n    }\n\n    handleOnChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n        const email = event.target.value;\n        if (email === \"\") {\n            this.setState({ validEmail: ValidityState.Empty, email: email })\n            return\n        }\n\n        if (!isValidEmail(email)) {\n            this.setState({ validEmail: ValidityState.Invalid, email: email })\n            return\n        }\n        this.setState({ validEmail: ValidityState.Valid, email: email })\n    }\n\n    async addToList(): Promise<void> {\n        try {\n            await insertMailingList(this.state.email);\n            this.setState({ validEmail: ValidityState.Added })\n        } catch (error) {\n            this.setState({ validEmail: ValidityState.Error })\n        }\n    }\n\n    render(): JSX.Element {\n        let className = \"\";\n        let errorMessage: string | null = null;\n        let buttonColor = \"dark\";\n\n        switch (this.state.validEmail) {\n            case ValidityState.Empty:\n                break;\n            case ValidityState.Invalid:\n                className = \"is-invalid\";\n                errorMessage = \"Please enter a valid email address\";\n                buttonColor = \"danger\";\n                break;\n            case ValidityState.Valid:\n                className = \"is-valid\";\n                buttonColor = \"success\";\n                break;\n            case ValidityState.Error:\n                return <h3 style={{ fontFamily: \"Permanent Marker\", color: \"red\" }}>Error, please try again later</h3>\n            case ValidityState.Added:\n                return <h3 style={{ fontFamily: \"Permanent Marker\", color: \"green\" }}>Email added, thank you!</h3>\n        }\n\n        return (\n            <div>\n                <div className=\"input-group mb-3\">\n                    <input type=\"text\"\n                        onBlur={this.handleOnChange}\n                        onChange={this.handleOnChange}\n                        className={\"form-control \" + className}\n                        placeholder=\"Your email here...\"\n                        aria-describedby=\"button-mailingList\"\n                    />\n                    <button\n                        className={\"btn btn-\" + buttonColor}\n                        style={{ fontFamily: \"Permanent Marker\" }}\n                        type=\"button\"\n                        id=\"button-mailingList\"\n                        disabled={this.state.validEmail === ValidityState.Valid ? false : true}\n                        onClick={async () => { await this.addToList() }}>Join</button>\n                </div>\n\n                <div className=\"form-text\" style={{ color: \"#dc3545\", fontFamily: \"Permanent Marker\" }}>\n                    {errorMessage}\n                </div>\n            </div >\n        );\n    }\n}","export function isValidEmail(email: string): boolean {\n    const re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n}\n","import React from 'react';\nimport DeliveryForm from './DeliveryForm';\nimport { orderEmail, orderPhoneNo } from './envvars';\nimport MailingList from './MailingList';\n\nfunction OrderPage(): JSX.Element {\n    return (\n        <div className=\"row\">\n            <div className=\"col-12 py-2 mt-2 text-center border border-4 border-dark rounded bg-white\" style={{ fontFamily: \"Permanent Marker\" }}>\n                <h1>\n                    <img src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/roguecookie.png\" alt=\"rogue cookie\" width=\"10%\" />\n                    {' '}Rogue Treats{' '}\n                    <img src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/roguecookie.png\" alt=\"rogue cookie\" width=\"10%\" />\n                </h1>\n                <h4>Delicious oven warm cookies delivered around Calne</h4>\n                <a href=\"https://www.instagram.com/roguetreats/\">\n                    <button className=\"btn btn-sm btn-primary\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-instagram\" viewBox=\"0 0 16 16\">\n                            <path d=\"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z\" />\n                        </svg>\n                        {' '}Instagram\n                    </button>\n                </a>\n                <a href=\"https://www.facebook.com/RogueTreatsCalne\">\n                    <button className=\"btn btn-sm btn-primary mx-2\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\n                            <path d=\"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z\" />\n                        </svg>\n                        {' '}FaceBook\n                    </button>\n                </a>\n            </div>\n\n            <div className=\"col-0 col-lg-2 text-center\" />\n            <div className=\"col-12 col-lg-8 text-center\" >\n                <div id=\"carouselExampleSlidesOnly\" className=\"mt-3 carousel slide\" data-bs-ride=\"carousel\" data-bs-interval=\"3000\" data-bs-pause=\"false\" data-bs-touch=\"true\">\n                    <div className=\"carousel-inner\">\n                        <div className=\"carousel-item active\">\n                            <img src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/splitAlpha.png\" className=\"d-block w-100\" alt=\"...\" />\n                        </div>\n                        <div className=\"carousel-item\">\n                            <img src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/boxAlpha.png\" className=\"d-block w-100\" alt=\"...\" />\n                        </div>\n                        <div className=\"carousel-item\">\n                            <img src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/wholeAlpha.png\" className=\"d-block w-100\" alt=\"...\" />\n                        </div>\n                        <div className=\"carousel-item\">\n                            <img src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/box2Alpha.png\" className=\"d-block w-100\" alt=\"...\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div style={{ backgroundColor: \"rgb(255, 145, 145)\" }} className=\"col-12 text-center mt-3 border border-4 border-dark rounded\">\n                <h4 style={{ color: \"black\", fontFamily: \"Permanent Marker\" }}>🚨 <b>Warning:</b> These cookies are seriously chonky! 🚨</h4>\n                <b style={{ color: \"black\" }}>Enter a time and place and we&apos;ll deliver you the best oven fresh cookies in Calne.<br />Made with fairtrade, free range ingredients and recyclable packaging.</b>\n            </div>\n\n            <div className=\"mt-3 py-2 col-12 border border-4 border-dark rounded\" style={{ backgroundColor: \"#deffd8\" }}>\n                <h2 className=\"text-center\" id='order_form' style={{ color: \"rgb(17, 147, 6)\", fontFamily: \"Permanent Marker\" }}>Deliveries on Fridays, order now!</h2>\n                < DeliveryForm />\n            </div>\n\n            <div className=\"mt-3 col-12 text-center\">\n                <img className=\"mb-3\" src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/wholeAlpha.png\" alt=\"One hella chonky cookie\" width={\"80px\"} />\n                <img className=\"mb-3\" src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/wholeAlpha.png\" alt=\"One hella chonky cookie\" width={\"80px\"} />\n                <img className=\"mb-3\" src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/wholeAlpha.png\" alt=\"One hella chonky cookie\" width={\"80px\"} />\n            </div>\n\n            <div className=\"mt-3 py-2 col-12 border border-4 border-dark rounded bg-white text-center\">\n                <h2 style={{ fontFamily: \"Permanent Marker\" }}>Join our mailing list</h2>\n                <p style={{ fontFamily: \"Permanent Marker\" }}>\n                    We're busy working on expanding our delivery area and adding exciting new flavours.\n                    Follow us for updates!\n                </p>\n                <MailingList />\n                <a href=\"https://www.instagram.com/roguetreats/\">\n                    <button className=\"btn btn-lg btn-primary\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" viewBox=\"0 0 18 18\">\n                            <path d=\"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z\" />\n                        </svg>\n                        {' '}Instagram\n                    </button>\n                </a>\n                <a href=\"https://www.facebook.com/RogueTreatsCalne\">\n                    <button className=\"btn btn-lg btn-primary mx-2\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" viewBox=\"0 0 18 18\">\n                            <path d=\"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z\" />\n                        </svg>\n                        {' '}Facebook\n                    </button>\n                </a>\n            </div>\n\n            <div className=\"mt-3 col-12 text-center\">\n                <img className=\"mb-3\" src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/wholeAlpha.png\" alt=\"One hella chonky cookie\" width={\"80px\"} />\n                <img className=\"mb-3\" src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/wholeAlpha.png\" alt=\"One hella chonky cookie\" width={\"80px\"} />\n                <img className=\"mb-3\" src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/wholeAlpha.png\" alt=\"One hella chonky cookie\" width={\"80px\"} />\n            </div>\n\n            <div className=\"col-12 py-2 mt-2 border border-4 border-dark rounded bg-white\">\n                <h2 className=\"text-center\" style={{ fontFamily: \"Permanent Marker\" }}>Details</h2>\n                <ul style={{ fontFamily: \"Permanent Marker\" }}>\n                    <li>All of our dough is made from scratch and baked to order 🧑‍🍳</li>\n                    <li>We deliver cookies warm and gooey, fresh from the oven 🔥</li>\n                    <li>We use fairtrade, freerange ingredients, sustainable products and recyclable packaging wherever possible 🌍</li>\n                    <li>We're insured and registered with Wiltshire Council food safety and standards 📋</li>\n                    <li>Any Questions? Contact us by phone on <a href={orderPhoneNo}>{orderPhoneNo}</a> or email <a href={orderEmail}>{orderEmail}</a> ✉️</li>\n                    <li>Need a larger / special order for an event? Get in touch! 😋</li>\n                </ul>\n            </div>\n\n            <div className=\"mt-3 col-12 text-center\">\n                <img className=\"mb-3\" src=\"https://cookieassets.s3.eu-west-2.amazonaws.com/roguecookie.png\" alt=\"One hella chonky cookie\" width={\"20%\"} />\n                <h3 style={{ fontFamily: \"Permanent Marker\" }}><b>Rogue Treats 2021</b></h3>\n            </div>\n        </div >\n    );\n}\n\nexport default OrderPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Success = (): JSX.Element => (\n    <div className=\"row\">\n        <div className=\"col-12 py-2 mt-2 text-center border border-4 border-dark rounded bg-white\" style={{ fontFamily: \"Permanent Marker\" }}>\n            <h1 style={{ color: \"green\" }}>Order Success: Cookies Incoming!</h1>\n            <h4>We've sent you an order confirmation email</h4>\n            <a href=\"https://www.instagram.com/roguetreats/\">\n                <button className=\"btn btn-lg btn-primary\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" viewBox=\"0 0 18 18\">\n                        <path d=\"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z\" />\n                    </svg>\n                    {' '}Instagram\n                </button>\n            </a>\n            <a href=\"https://www.facebook.com/RogueTreatsCalne\">\n                <button className=\"btn btn-lg btn-primary mx-2\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" viewBox=\"0 0 18 18\">\n                        <path d=\"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z\" />\n                    </svg>\n                    {' '}Facebook\n                </button>\n            </a>\n            <br />\n            <Link\n                to=\"/\"\n            >\n                <button className=\"btn btn-lg btn-secondary mt-1\">\n                    Go Home\n                </button>\n            </Link>\n        </div>\n    </div >\n);\n\nexport default Success;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Cancelled = (): JSX.Element => (\n    <div className=\"row\">\n        <div className=\"col-12 py-2 mt-2 text-center border border-4 border-dark rounded bg-white\" style={{ fontFamily: \"Permanent Marker\" }}>\n            <h1 style={{ color: \"red\" }}>Order Cancelled</h1>\n            <Link\n                type=\"button\"\n                className=\"btn btn-success btn-lg mt-2\"\n                to=\"/\"\n            >\n                Go Home\n            </Link>\n        </div>\n    </div>\n);\n\nexport default Cancelled;","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport OrderPage from './OrderPage';\nimport Success from './SuccessPage';\nimport Cancelled from './CancelledPage';\n\nfunction App(): JSX.Element {\n  return (\n    <div className=\"container\">\n      <main>\n        <Router>\n          <Switch>\n            <Route path=\"/success\">\n              <Success />\n            </Route>\n            <Route path=\"/cancelled\">\n              <Cancelled />\n            </Route>\n            <Route path=\"/\">\n              <OrderPage />\n            </Route>\n          </Switch>\n        </Router>\n      </main>\n    </div >\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}